theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0)
alphas.hier
smax.hier
alphas.hier
cbind(alphas.hier,smax.hier)
cbind(exp(alphas.hier),smax.hier)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) + geom_text(data = dat_text, mapping = aes(x= x, y = y, label = label), size = 2.5)
dat_text
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot( outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot( outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) + geom_text(data = dat_text, mapping = aes(x= x, y = y, label = label), size = 2.5)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias))
p + geom_boxplot( outlier.size = -1 , fill = model) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) + geom_text(data = dat_text, mapping = aes(x= x, y = y, label = label), size = 2.5)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias))
p + geom_boxplot( outlier.size = -1 , fill = model) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) + geom_text(data = dat_text, mapping = aes(x= x, y = y, label = label, fill = model), size = 2.5)
dat_text
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias))
p + geom_boxplot( outlier.size = -1 , fill = model) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) + geom_text(data = dat_text, mapping = aes(x= x, y = y, label = label, show.legend = FALSE), size = 2.5)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) + geom_text(data = dat_text, mapping = aes(x= x, y = y, label = label), size = 2.5)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) + geom_text(data = dat_text, mapping = aes(x= x, y = y, label = label), size = 2.5, show.legend = FALSE)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) + geom_text(data = dat_text, mapping = aes(x= x, y = y, label = label), size = 2.5, show.legend = FALSE)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) + annotate("text", x = 4, y = 25, label = "Some text")
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_label(data = dat_text, aes(label=label),
x = Inf, y = -Inf, hjust=1, vjust=0,
inherit.aes = FALSE)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_label(data = dat_text, aes(label=label),
x = Inf, y = -Inf, hjust=1, vjust=0)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_text(data = dat_text, mapping = aes(x= x, y = y, label = label), size = 2.5,
inherit.aes = FALSE)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_label(data = dat_text, aes(label=label),
x = Inf, y = -Inf, hjust=1, vjust=0,
inherit.aes = FALSE)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_label(data = dat_text, aes(label=label),
x = Inf, y = -Inf, hjust=1, vjust=0,
inherit.aes = FALSE)
dat_text
dat_text.2<-dat_text[,1]
dat_text.2
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_label(data = dat_text.2, aes(label=label),
x = Inf, y = -Inf, hjust=1, vjust=0,
inherit.aes = FALSE)
dat_text
row.names(dat_text)<- unique(unique(SR_data$CUID))
dat_text
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_label(data = dat_text.2, aes(label=label),
x = Inf, y = -Inf, hjust=1, vjust=0,
inherit.aes = FALSE)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_label(data = dat_text, aes(label=label),
x = Inf, y = -Inf, hjust=1, vjust=0,
inherit.aes = FALSE)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_label(data = dat_text, aes(label=label),
x = Inf, y = -Inf, hjust=1, vjust=0)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_text(data = dat_text, mapping = aes(x= x, y = y, label = label, fill = NULL), size = 2.5)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0)
dat_text <- data.frame(label = round(exp(alphas.hier),digits=2),
CU = unique(SR_data$CUID),
x = rep("48",13),
y = rep(50, 13),
model = rep("Individual",13)
)
dat_text
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_text(data = dat_text, mapping = aes(x= x, y = y, label = label, fill = model), size = 2.5)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_label(data = dat_text, aes(label=label, fill = model),
x = Inf, y = -Inf, hjust=1, vjust=0)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_label(data = dat_text, aes(label=label, fill = model),
x = Inf, y = -Inf, hjust=1, vjust=0)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_label(data = dat_text, aes(label=label, fill = model),
x = Inf, y = -Inf, hjust=1, vjust=0,inherit.aes = FALSE))
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_label(data = dat_text, aes(label=label, fill = model),
x = Inf, y = -Inf, hjust=1, vjust=0,inherit.aes = FALSE)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0)
dat_text
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_label(data = dat_text, aes(label=label), x = Inf, y = -Inf, hjust=1, vjust=0)
dat_text.simp <- data.frame(label = round(exp(alphas.hier),digits=2),
CU = unique(SR_data$CUID))
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
geom_label(data = dat_text.simp, aes(label=label), x = Inf, y = -Inf, hjust=1, vjust=0)
Smsy_estimates.df.long$CU_w_alpha <- NA
Smsy_estimates.hier.df.long$CU_w_alpha <- NA
smax.hier
alphas.hier
unique(Smsy_estimates.all.df.long.short$CU
)
for(w in unique(Smsy_estimates.all.df.long.short$CU)){
CU_index <- which(unique(Smsy_estimates.all.df.long.short$CU)==w)
Smsy_estimates.all.df.long.short[Smsy_estimates.all.df.long.short$CU==w,]$CU_w_alpha <- paste(w, alphas.hier[CU_index], sep=" ") }
Smsy_estimates.all.df.long.short
Smsy_estimates.all.df.long.short$CU_w_alpha <- NA
for(w in unique(Smsy_estimates.all.df.long.short$CU)){
CU_index <- which(unique(Smsy_estimates.all.df.long.short$CU)==w)
Smsy_estimates.all.df.long.short[Smsy_estimates.all.df.long.short$CU==w,]$CU_w_alpha <- paste(w, alphas.hier[CU_index], sep=" ") }
Smsy_estimates.all.df.long.short
for(w in unique(Smsy_estimates.all.df.long.short$CU)){
CU_index <- which(unique(Smsy_estimates.all.df.long.short$CU)==w)
Smsy_estimates.all.df.long.short[Smsy_estimates.all.df.long.short$CU==w,]$CU_w_alpha <- paste(w,"(prod. = " exp(round(alphas.hier[CU_index],digits=2)),")", sep=" ") }
for(w in unique(Smsy_estimates.all.df.long.short$CU)){
CU_index <- which(unique(Smsy_estimates.all.df.long.short$CU)==w)
Smsy_estimates.all.df.long.short[Smsy_estimates.all.df.long.short$CU==w,]$CU_w_alpha <- paste(w,"(prod. = ", exp(round(alphas.hier[CU_index],digits=2)),")", sep=" ") }
Smsy_estimates.all.df.long.short
alphas.hier <- round(fixef(model.hier)[[1]]+ranef(model.hier)$CUID[,1],digits=2)
alphas.hier
alphas.hier <- exp(round(fixef(model.hier)[[1]]+ranef(model.hier)$CUID[,1],digits=2))
alphas.hier
alphas.hier <- round(exp(fixef(model.hier)[[1]]+ranef(model.hier)$CUID[,1]),digits=2)
alphas.hier
for(w in unique(Smsy_estimates.all.df.long.short$CU)){
CU_index <- which(unique(Smsy_estimates.all.df.long.short$CU)==w)
Smsy_estimates.all.df.long.short[Smsy_estimates.all.df.long.short$CU==w,]$CU_w_alpha <- paste(w,"(prod. = ", alphas.hier,")", sep=" ") }
for(w in unique(Smsy_estimates.all.df.long.short$CU)){
CU_index <- which(unique(Smsy_estimates.all.df.long.short$CU)==w)
Smsy_estimates.all.df.long.short[Smsy_estimates.all.df.long.short$CU==w,]$CU_w_alpha <- paste(w,"(prod. = ", alphas.hier[CU_index],")", sep=" ") }
Smsy_estimates.all.df.long.short
for(w in unique(Smsy_estimates.all.df.long.short$CU)){
CU_index <- which(unique(Smsy_estimates.all.df.long.short$CU)==w)
Smsy_estimates.all.df.long.short[Smsy_estimates.all.df.long.short$CU==w,]$CU_w_alpha <- paste(w,"(prod.=", alphas.hier[CU_index],")", sep=" ") }
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU_w_alpha)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU_w_alpha)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points",
y = "Bias in Smsy") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0)
fixef(model.hier)
exp(1.595674e+00)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU_w_alpha)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points",
y = "Bias in Smsy") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
ggtitle("Lake sockeye (prod.=4.94) ")
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU_w_alpha)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points",
y = "Bias in Smsy") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
ggtitle("Lake sockeye (prod.=4.94) ") +
scale_colour_viridis_d()
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, color = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU_w_alpha)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points",
y = "Bias in Smsy") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
ggtitle("Lake sockeye (prod.=4.94) ") +
scale_colour_viridis_d()
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU_w_alpha)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points",
y = "Bias in Smsy") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
ggtitle("Lake sockeye (prod.=4.94) ") +
scale_fill_viridis_d()
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU_w_alpha)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points",
y = "Bias in Smsy") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
ggtitle("Lake sockeye (prod.=4.94) ") +
scale_fill_viridis_d(alpha = 0.5)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU_w_alpha)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points",
y = "Bias in Smsy") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
ggtitle("Lake sockeye (prod.=4.94) ") +
scale_fill_viridis_d(alpha = 0.5,"City\nCenter")
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU_w_alpha)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points",
y = "Bias in Smsy") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
ggtitle("Lake sockeye (prod.=4.94) ") +
scale_fill_viridis_d(alpha = 0.5,"Spawner-recruit\nmodel")
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU_w_alpha)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points",
y = "Bias in Smsy") +
theme_bw() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
ggtitle("Lake sockeye (prod.=4.94) ") +
scale_fill_viridis_d(alpha = 0.5,"Spawner-recruit\nmodel")
ggsave("Lake_sockeye.pdf")
remotes::install_github("seananderson/ggsidekick")
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU_w_alpha)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points",
y = "Bias in Smsy") +
theme_sleek() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
ggtitle("Lake sockeye (prod.=4.94) ") +
scale_fill_viridis_d(alpha = 0.5,"Spawner-recruit\nmodel")
library(ggsidekick)
p <- ggplot(Smsy_estimates.all.df.long.short, aes(x= cut_width(data_points,1), y = bias, fill = model))
p + geom_boxplot(position = "dodge2", outlier.size = -1 ) +
facet_wrap(~ CU_w_alpha)+
scale_x_discrete(labels=c("3", "8", "13", "18", "23", "28", "32", "38", "43", "48")) +
coord_cartesian(ylim=c(-100,100))+
labs(x = "Number of spawner-recruit data points",
y = "Bias in Smsy") +
theme_sleek() +
theme(axis.text = element_text(size=6)) +
geom_hline(yintercept = 0) +
ggtitle("Lake sockeye (prod.=4.94) ") +
scale_fill_viridis_d(alpha = 0.5,"Spawner-recruit\nmodel")
ggsave("Lake_sockeye2.pdf")
raw_brood_table <- read.csv("dataset_5.April082019.csv")
## clean up brood table, drop brood years with missing data
brood_table <- raw_brood_table %>%
select(CUID, Species,Year, Spawners, Recruits) %>%
drop_na(Recruits, Spawners)
## how many spawner-recruitment points are there per CU?
brood_table %>%
group_by(CUID,Species) %>%
summarise(c = n()) %>%
as.data.frame()
brood_table %>%
group_by(CUID,Species) %>%
tally() %>%
as.data.frame()
